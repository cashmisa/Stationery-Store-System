@model LUSSIS.Controllers.PurchaseOrderViewModel

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>Purchase Order @Model.PoNum</h4>
    <hr />
    <div>
        <div class="form-group">
            <label type="text" class="control-label col-md-2">@Html.DisplayNameFor(model => model.CreateDate)</label>
            <div class="col-md-10">
                <input type="date" value="@Model.CreateDate.Value.ToString("yyyy-MM-dd")" disabled/>    
            </div>
        </div>
    </div>
    <div>
        <div class="form-group">
            <label type="text" class="control-label col-md-2">@Html.DisplayNameFor(model => model.OrderDate)</label>
            <div class="col-md-10">
                <input type="date" value="@Model.OrderDate.Value.ToString("yyyy-MM-dd")" disabled/>
            </div>
        </div>
    </div>
    <div>
        <div class="form-group">
            <label type="text" class="control-label col-md-2">@Html.DisplayNameFor(model => model.Status)</label>
            <div class="col-md-10">
                <input type="text" value="@Model.Status" disabled/>
            </div>
        </div>
    </div>
    <div>
        <div class="form-group">
            <label type="text" class="control-label col-md-2">@Html.DisplayNameFor(model => model.ApprovalDate)</label>
            <div class="col-md-10">
                <input type="date" value="@Model.ApprovalDate.Value.ToString("yyyy-MM-dd")" disabled/>
            </div>
        </div>
    </div>
    <div>
        <div class="form-group">
            <label type="text" class="control-label col-md-2">@Html.DisplayNameFor(model => model.OrderEmpNum) </label>
            <div class="col-md-10">
                <input type="text" value="@Model.OrderEmployee.FullName" disabled/>
            </div>
        </div>
    </div>
    <div>
        <div class="form-group">
            <label type="text" class="control-label col-md-2">@Html.DisplayNameFor(model => model.ApprovalEmpNum)  </label>
            <div class="col-md-10">
                <input type="text" value="@Model.ApprovalEmployee.FullName" disabled/>
            </div>
        </div>
    </div>
    <div>
        <div class="form-group">
            <label type="text" class="control-label col-md-2">@Html.DisplayNameFor(model => model.Supplier.SupplierName)  </label>
            <div class="col-md-10">
                <input type="text" value="@Model.Supplier.SupplierName" disabled/>
            </div>
        </div>
    </div>
    <div>
        <div class="form-group">
            <label type="text" class="control-label col-md-2">@Html.DisplayNameFor(model => model.Supplier.ContactName) </label>
            <div class="col-md-10">
                <input type="text" value="@Model.Supplier.ContactName" disabled/>
            </div>
        </div>
    </div>
    <table class="table">
        <tr>
            <th>No</th>
            <th>Product</th>
            <th>Item No</th>
            <th>Unit of Measure</th>
            <th>Unit Price</th>
            <th>Total Cost</th>
            <th>Status</th>
        </tr>
        @for (int i = 0; i < Model.PurchaseOrderDetails.Count; i++)
        {
            <tr>
                <td>@(i + 1)</td>
                <td>@Model.PurchaseOrderDetails[i].Stationery.Description</td>
                <td>@Model.PurchaseOrderDetails[i].Stationery.ItemNum</td>
                <td>@Model.PurchaseOrderDetails[i].Stationery.UnitOfMeasure</td>
                <td>@Model.PurchaseOrderDetails[i].UnitPrice</td>
                <td>@(@Model.PurchaseOrderDetails[i].UnitPrice * Model.PurchaseOrderDetails.Skip(i).First().OrderQty)</td>
                <td>@(Model.PurchaseOrderDetails[i].ReceiveQty > 0 ? "Delivered" : "Not Delivered")</td>
            </tr>
        }
    </table>
</div>
<p>
    @if (Model.Status == "approved")
    {
        @Html.ActionLink("Receive", "Receive", new { p = Model.PoNum })
    }
    @Html.ActionLink("Back to List", "Index")
</p>

